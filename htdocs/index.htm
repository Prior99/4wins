<!DOCTYPE HTML>
<html>
	<head>
		<title>Connect 4</title>
		<link rel="image_src" href="logo.png" />
		<link rel="icon" href="logo.png" type="image/x-icon">
		<script type="text/javascript">
			var HOST = "localhost:2700";
			
			function Loader(a,b){this.width=a;this.height=b;this.mX=a/2;this.mY=b/2;this.canvas=$('<canvas width="'+a+'" height="'+b+'"></canvas>');this.ctx=this.canvas[0].getContext("2d");this.ctx.lineWidth=2;this.x=0;this.started=(new Date).getTime()}Loader.prototype.start=function(){var a=this;this.timing=setInterval(function(){a.redraw()},30)};
			Loader.prototype.redraw=function(){this.ctx.clearRect(0,0,this.width,this.height);this.x=(this.x+0.02)%1;for(var a=0,b=1;1>a;a+=0.02)this.ctx.strokeStyle="rgba(200, 200, 200, 1)",this.drawRadiantLine(this.mX,this.mY,this.height/20*7,this.height/2,a);a=0;for(b=1;0.5>a;a+=0.02)b-=0.05,this.ctx.strokeStyle="rgba(0, 0, 255,"+b+")",this.drawRadiantLine(this.mX,this.mY,this.height/20*7,this.height/2,a-this.x);a=(((new Date).getTime()-this.started)/1E3).toFixed(1)+"s";b=Math.floor(this.width/(1.2*a.length));
			this.ctx.fillStyle="#00F";this.ctx.font=b+"px Arial";this.ctx.textAlign="center";this.ctx.fillText(a,this.width/2,this.height/2+b/3)};Loader.prototype.stop=function(){clearInterval(this.timing);this.canvas.remove()};Loader.prototype.appendTo=function(a){this.canvas.appendTo(a)};Loader.prototype.drawRadiantLine=function(a,b,c,d,e){var f=e*Math.PI*2;e=Math.sin(f);f=Math.cos(f);this.ctx.beginPath();this.ctx.moveTo(a+c*e,b-c*f);this.ctx.lineTo(a+d*e,b-d*f);this.ctx.stroke()};
			function setCookie(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+864E5*c);c="; expires="+d.toGMTString()}else c="";document.cookie=a+"="+b+c+"; path=/"}function getCookie(a){a+="=";for(var b=document.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null}function eraseCookie(a){setCookie(a,"",-1)}function refreshPage(){document.location.reload(!0)}var urlVars,debug="true"==getGet("debug");
			function getUrlVars(){urlVars={};window.location.href.replace("#","").replace(/[?&]+([^=&]+)=([^&]*)/gi,function(a,b,c){urlVars[b]=c});return urlVars}function getGet(a){null==urlVars&&getUrlVars();return urlVars[a]}var _waitLoader,_waitDiv,_waitDark,fail=!1,ok=!0;
			function wait(a){_waitDark=$("<div class='dark'></div>").appendTo("body").hide().fadeIn(200);_waitDiv=$("<div class='wait'></div>").appendTo(_waitDark).hide().fadeIn(300).append(a).append("<br>");_waitLoader=new Loader(200,200);_waitLoader.appendTo(_waitDiv);_waitLoader.start()}function unwait(){_waitDark.remove();_waitLoader.stop();_waitDiv.remove()}
			function message(a,b,c,d){var e=$("<div class='dark'></div>").appendTo("body").hide().fadeIn(200),f=$("<div class='msg'></div>").appendTo(e).fadeIn(300);a?f.addClass("ok"):f.addClass("fail");$("<h1>"+b+"</h1>").appendTo(f);$("<p>"+c+"</p>").appendTo(f);$("<button>ok</button>").appendTo(f).click(function(){f.remove();e.remove();d()})}function WebsocketConnection(a){this.host=a;this.handler=[];this.socket;this.opened=[]}
			WebsocketConnection.prototype.addHandler=function(a,b){null==this.handler&&(this.handler=[]);this.handler[a]=b};WebsocketConnection.prototype.ready=function(a){this.opened.push(a)};WebsocketConnection.prototype.connect=function(){var a=this;this.socket=new WebSocket("ws://"+this.host+"/");this.socket.onopen=function(b){a.onOpen(b)};this.socket.onclose=function(b){a.onClose(b)};this.socket.onmessage=function(b){a.onMessage(b)};this.socket.onerror=function(b){a.onError}};
			WebsocketConnection.prototype.onOpen=function(a){console.log("Websocket connected");void 0!=this.openSlave&&this.openSlave()};WebsocketConnection.prototype.onClose=function(a){console.log("Websocket lost connection");this.connect()};WebsocketConnection.prototype.onMessage=function(a){a=a.data.split(";");var b=a[0];if(0<a.length){if(null!=this.handler[b])this.handler[b](a)}else if(null!=this.handler[b])this.handler[b]()};
			WebsocketConnection.prototype.onError=function(a){this.connectionRetrys++;console.log("Websocket error:"+a);this.connect()};WebsocketConnection.prototype.send=function(){for(var a=arguments[0],b=1;b<arguments.length;b++)void 0!=arguments[b]&&(a+=";"+arguments[b]);null!=this.socket&&this.socket.send(a)};
			function Game(){var a=this;this.socket=new WebsocketConnection(HOST);this.socket.connect();this.masks=[];var b=$('<div class="wrapper"></div>"').appendTo("body");$('<div class="header"></div>').appendTo(b);this.navi=$('<div class="navi"></div>').appendTo(b).hide();this.gamesw=$('<div class="games"></div>').appendTo(b).hide();this.parent=$("<div class='content'></div>").appendTo(b);this.oldw=this.parent.width();console.log(this.parent);this.parent.css({width:"1004px"});$('<div class="bottom">2013 by Prior (Frederick Gnodtke)</div>').appendTo(b);
			wait("Connecting...");this.socket.openSlave=function(){unwait();a.waitForLogin()}}
			Game.prototype.start=function(){var a=this;this.socket.send("games");wait("Waiting for games");this.navi.show();this.parent.css({width:this.oldw});this.gamesw.show();this.socket.addHandler("games",function(b){unwait();a.gamesw.html("");var c=parseInt(b[1]),d=parseInt(b[2]),e=c+d,f=c/e*100;0==e&&(f=0);var h=d/e*100;0==e&&(h=0);var g=((new Date).getTime()-1E3*parseInt(b[3]))/1E3,k=g/86400,g=g%86400,n=g/3600,g=g%3600,m;m=g/60%60;g%=60;g=k.toFixed(0)+" d, "+n.toFixed(0)+" h, "+m.toFixed(0)+" m";a.navi.html("");
			k=$("<ul></ul>");k.append("<li>Name: "+b[4]+"</li>");k.append("<li>Elo: "+b[5]+"</li>");k.append("<li>Won: "+c+" ("+f.toFixed(0)+"%)</li>");k.append("<li>Lost: "+d+" ("+h.toFixed(0)+"%)</li>");k.append("<li>Games: "+e+"</li>");k.append("<li>Since: "+g+"</li>");k.appendTo(a.navi);k=$("<ul style='float:right;'></ul>");$("<a href='#'>Remove My Account</a>").click(function(){message(ok,"Warning","Removing your account is a PERMANENT and UNREVOKABLE action. Are you really, really sure you want to do this!?",
			function(){a.socket.send("removeuser");window.location.reload()})}).appendTo($("<li></li>").appendTo(k));$("<a href='#'>Logout</a>").click(function(){eraseCookie("username");eraseCookie("password");window.location.reload()}).appendTo($("<li></li>").appendTo(k));k.appendTo(a.navi);a.games=$("<ul></ul>").appendTo($('<div class="box"></div>').appendTo(a.gamesw).append("<h1>Games</h1>"));for(c=7;c<b.length;c+=2)var l=$("<a href='#'>"+b[c+1]+"</a>").click(function(){a.showGame(this.index,this.text)}).appendTo($("<li></li>").appendTo(a.games))[0].index=
			b[c];var c=$('<div class="box"></div>').append("<h1>Challenge Player</h1>").appendTo(a.gamesw),p=$("<input type='text' />").appendTo(c);$("<button>Challenge!</button>").appendTo(c).click(function(){a.challenge(p.val())});$('<div class="box"></div>').append("<h1>Highscore</h1>").append($("<button>View Highscore</button>").click(function(){a.displayHighscore()})).appendTo(a.gamesw);c=$('<div class="box"></div>').append("<h1>Darkroom</h1>").append("<p>Game with a random other player. Game will appear in list a soon as another player clicks this button.</p>").appendTo(a.gamesw);
			"true"!=b[6]&&(l=$("<button>Attend Darkroomgame</button>").click(function(){a.socket.send("darkroom");l.remove()}).appendTo(c))})};
			Game.prototype.displayHighscore=function(){var a=this;this.socket.send("highscore");wait();this.socket.addHandler("highscore",function(b){unwait();a.clearMasks();var c=$("<div class='mask highscore'></div>").appendTo(a.parent).append("<h1>Highscore</h1>");a.masks.push(c);var d=$("<table></table>").appendTo(c);$("<tr class='head'></tr>").appendTo(d).append("<td>#</td>").append("<td>Name</td>").append("<td>Games won</td>").append("<td>Games lost</td>").append("<td><b>Elo</b></td>").append("<td>Challenge</td>");for(var e=
			1,f=1;e<b.length;e+=4,f++)(function(c){$("<tr></tr>").appendTo(d).append("<td>"+f+"</td>").append("<td>"+b[e]+"</td>").append("<td>"+b[e+1]+"</td>").append("<td>"+b[e+2]+"</td>").append("<td><b>"+b[e+3]+"</b></td>").append($("<td></td>").append("<button>Challenge</button>").click(function(b){a.challenge(c)}))})(b[e])})};Game.prototype.challenge=function(a){var b=this;this.socket.send("challenge",a);this.socket.addHandler("created",function(a){b.showGame(parseInt(a[1]))})};
			Game.prototype.place=function(a,b){this.socket.send("set",this.currentIndex,a)};
			Game.prototype.showGame=function(a,b){var c=this;this.currentIndex=a;this.socket.send("game",a);wait("Waiting for game...");this.socket.addHandler("game",function(d){unwait();c.clearMasks();var e=parseInt(d[1]),f=parseInt(d[2]);console.log(d);void 0!=c.gui&&c.gui.destroy();var h=$("<div class='mask game'></div>").appendTo(c.parent);c.masks.push(h);$("<div class='player'>"+d[6]+" is playing as <span class='player1'>Player One</span><br>"+d[7]+" is playing as <span class='player2'>Player Two</span></div>").appendTo(h);
			$("<h1>"+b+"</h1>").appendTo(h);c.gui=new FourWins(e,f,c,h);c.gui.setMap(d[3]);"true"==d[4]&&c.gui.nextTurn();$("<button>Delete</button>").appendTo(h.append("<br>Delete this game permanently: ")).click(function(){c.socket.send("delete",a);c.displayHighscore()});c.socket.addHandler("placed",function(a){if(parseInt(a[1])==c.currentIndex){var b=parseInt(a[2]);c.gui.place(b,c.gui.lowestY(b),parseInt(a[3]))}});c.socket.addHandler("win",function(a){var b=parseInt(a[3]),e=parseInt(a[5]),f=parseInt(a[4]),
			l=parseInt(a[6]);a=a[1];c.gui.win(b,f,e,l);message(ok,"Game Over!","Player "+a+" has won the game!",function(){});$("<button>Revanche</button>").appendTo(h.append("<br>")).click(function(){for(var a=parseInt(d[5]),b=0;b<a;b++)d[6+b]!=c.username&&c.challenge(d[6+b])})});c.socket.addHandler("turn",function(a){parseInt(a[1])==c.currentIndex&&c.gui.nextTurn()})});this.socket.addHandler("lobby",function(a){unwait();c.displayLobbyMask(a)})};
			Game.prototype.displayLobbyMask=function(a){this.clearMasks();var b=this,c,d;c=$('<div class="lobby"></div>').appendTo(this.parent);this.masks.push(c);$("<h1>Lobby</h1>").appendTo(c);d=$("<div class='users'></div>").appendTo(c);var e=$("<table></table>").appendTo(c),f=$("<span>0/4 users (at least 2 needed)</span>").appendTo(c.append("<br>"));$("<tr class='head'></tr>").append("<td width=300>Name</td>").append("<td>Won</td>").append("<td>Lost</td>").append("<td>Elo</td>").appendTo(e);d=0;for(var h=
			$("<button>Start Game</button>").attr("disabled",!0),g=2;g<a.length;g+=4)$("<tr></tr>").append("<td>"+a[g]+"</td>").append("<td>"+a[g+2]+"</td>").append("<td>"+a[g+1]+"</td>").append("<td>"+a[g+3]+"</td>").appendTo(e),d++,f.html(d+"/2 users"),2<=d&&4>=d?h.attr("disabled",!1):h.attr("disabled",!0);h.appendTo(c.append("<br>").append("<br>")).click(function(){b.socket.send("start",a[1])});$("<button>Delete Game</button>").appendTo(c).click(function(){b.socket.send("delete",a[1]);b.displayHighscore()});
			this.socket.addHandler("lobbyjoin",function(b){parseInt(b[1])==parseInt(a[1])&&($("<tr></tr>").append("<td>"+b[2]+"</td>").append("<td>"+b[4]+"</td>").append("<td>"+b[3]+"</td>").append("<td>"+b[5]+"</td>").appendTo(e),d++,2<=d?h.attr("disabled",!1):h.attr("disabled",!0),f.html(d+"/2 users"))})};Game.prototype.waitForLogin=function(){var a=getCookie("username"),b=getCookie("password");null!=a&&null!=b?this.login(a,b):this.displayLoginMask()};
			Game.prototype.displayLoginMask=function(){this.clearMasks();var a,b,c,d,e=this;a=$("<div class='mask login'></div>").appendTo(this.parent);this.masks.push(a);$("<h1>Login</h1>").appendTo(a);b=$("<p></p>").appendTo(a);$("<label>Username:</label>").appendTo(b);b=$("<input type='text' />").appendTo(b);c=$("<p></p>").appendTo(a);$("<label>Password:</label>").appendTo(c);c=$("<input type='password' />").appendTo(c);d=$("<p></p>").appendTo(a);$("<label>Login:</label>").appendTo(d);d=$("<button>OK</button>").appendTo(d);
			d.click(function(){a.remove();e.login(b.val(),c.val())});c.keyup(function(a){13==a.which&&d.click()});b.keyup(function(a){13==a.which&&d.click()});reg=$("<p>Don't have an account? Create one </p>").appendTo(a);reg=$("<a href='#'>here</a>").appendTo(reg);reg.click(function(){a.remove();e.displayRegisterMask()})};
			Game.prototype.displayRegisterMask=function(){function a(){e.val()!=d.val()?(e.css({background:"#FAA"}),d.css({background:"#FAA"}),f.attr({disabled:!0})):(e.css({background:"#FFF"}),d.css({background:"#FFF"}),f.attr({disabled:!1}))}this.clearMasks();var b,c,d,e,f,h=this;b=$("<div class='mask register'></div>").appendTo(this.parent);this.masks.push(b);$("<h1>Register</h1>").appendTo(b);c=$("<p></p>").appendTo(b);$("<label>Username:</label>").appendTo(c);c=$("<input type='text' />").appendTo(c);d=$("<p></p>").appendTo(b);
			$("<label>Password:</label>").appendTo(d);d=$("<input type='password' />").appendTo(d);e=$("<p></p>").appendTo(b);$("<label>Repeat:</label>").appendTo(e);e=$("<input type='password' />").appendTo(e);f=$("<p></p>").appendTo(b);$("<label>Register:</label>").appendTo(f);f=$("<button>OK</button>").appendTo(f);f.click(function(){b.remove();h.register(c.val(),d.val())});d.keyup(function(a){13==a.which&&f.click()});c.keyup(function(a){13==a.which&&f.click()});e.keyup(function(a){13==a.which&&f.click()});
			e.keyup(a);d.keyup(a)};Game.prototype.login=function(a,b){var c=this;this.socket.send("login",a,b);wait("Waiting for login...");this.socket.addHandler("login",function(d){unwait();"ok"==d[1]?c.loggedIn(a,b):(message(ok,"Error","Login failed. Combination of username and password unknown.",function(){c.displayLoginMask()}),eraseCookie("username"),eraseCookie("password"))})};Game.prototype.clearMasks=function(){for(;0<this.masks.length;){var a=this.masks.pop();null!=a&&a.remove()}};
			Game.prototype.loggedIn=function(a,b){setCookie("username",a,14);setCookie("password",b,14);this.username=a;this.start()};
			Game.prototype.register=function(a,b){var c=this;console.log(a);console.log(b);this.socket.send("register",a,b);wait("Waiting for register...");this.socket.addHandler("register",function(a){unwait();"ok"==a[1]?message(ok,"Registered","Registration was successfull. you may now login.",function(){c.displayLoginMask()}):message(fail,"Error","Unable to register. Maybe this username was already taken.",function(){c.displayRegisterMask()})})};
			function FourWins(a,b,c,d){this.gameO=c;var e=this;this.canvas=$("<canvas id='c' width='"+40*a+"' height='"+40*b+"' style='border: 1px solid #000'></canvas>").appendTo(d);this.canvas.mousemove(function(a){a.preventDefault();e.onMouseMove(a)});this.canvas.mousedown(function(a){a.preventDefault();e.onMouseDown(a)});this.ctx=this.canvas[0].getContext("2d");this.init(a,b);this.interval=setInterval(function(){e.redraw()},30);this.wins={has:!1};this.enabled=!1}
			FourWins.prototype.nextTurn=function(){this.enabled=!0};FourWins.prototype.win=function(a,b,c,d){this.wins={has:!0,x1:a,y1:b,x2:c,y2:d,a:0}};
			FourWins.prototype.redrawWin=function(){if(!0==this.wins.has){for(var a=0;a<this.spread.width;a++)for(var b=0;b<this.spread.height;b++)this.ctx.fillStyle="rgba(30, 30, 30, "+this.wins.a+")",this.ctx.beginPath(),this.ctx.rect(a*this.tileDim.width,b*this.tileDim.height,this.tileDim.width,this.tileDim.height),this.ctx.fill();this.ctx.strokeStyle="rgba(255, 255, 255, "+this.wins.a+")";this.ctx.lineWidth=20;this.ctx.beginPath();this.ctx.moveTo((this.wins.x1+0.5)*this.tileDim.width,(this.wins.y1+0.5)*this.tileDim.height);
			this.ctx.lineTo((this.wins.x2+0.5)*this.tileDim.width,(this.wins.y2+0.5)*this.tileDim.height);this.ctx.stroke();0.5>this.wins.a&&(this.wins.a+=0.005)}};FourWins.prototype.setMap=function(a){for(var b=0;b<this.spread.width;b++)for(var c=this.spread.height-1;0<=c;c--)65!=a.charCodeAt(b*this.spread.height+c)&&this.place(b,c,a.charCodeAt(b*this.spread.height+c)-65,!0)};FourWins.prototype.destroy=function(){this.canvas.remove();clearInterval(this.interval)};
			function normalizeEvent(a){a.offsetX||(a.offsetX=a.pageX-$(a.target).offset().left,a.offsetY=a.pageY-$(a.target).offset().top);return a}FourWins.prototype.onMouseMove=function(a){if(this.enabled){a=normalizeEvent(a);var b=a.offsetY/this.tileDim.height;this.selected.x=Math.floor(a.offsetX/this.tileDim.width);this.selected.y=Math.floor(b)}};
			FourWins.prototype.onMouseDown=function(a){if(this.enabled){a=normalizeEvent(a);var b=a.offsetX/this.tileDim.width;a=a.offsetY/this.tileDim.height;a=this.lowestY(Math.floor(b));this.gameO.place(Math.floor(b),a)}};FourWins.prototype.place=function(a,b,c,d){this.enabled=!1;this.array[a][b]=c;this.symbols.push(new Symbol({x:a,y:b},c,this.tileDim,this.ctx,d))};
			FourWins.prototype.init=function(a,b){this.selected={x:-1,y:-1};this.dim={width:this.canvas[0].width,height:this.canvas[0].height};this.spread={width:a,height:b};this.tileDim={width:this.dim.width/this.spread.width,height:this.dim.height/this.spread.height};this.color={gridStrokeReally:"#FFF043",gridFillReally:"#2CB200",gridStrokeSelected:"#FFF043",gridFillSelected:"#FFC13C",gridStrokeNormal:"#FFF043",gridFillNormal:"#FDFFAB",gridFillDisabled:"#F1EECE",gridStrokeDisabled:"#CCCD95"};this.symbols=[];
			this.array=[];for(var c=0;c<this.spread.width;c++){this.array[c]=[];for(var d=0;d<this.spread.height;d++)this.array[c][d]=0}};FourWins.prototype.lowestY=function(a){for(var b=0;b<this.spread.height&&0==this.array[a][b];b++);return b-1};FourWins.prototype.redraw=function(){this.ctx.clearRect(0,0,this.dim.width,this.dim.height);this.redrawGrid();this.redrawSymbols();this.redrawWin()};
			FourWins.prototype.redrawSymbols=function(){for(var a=[];0!=this.symbols.length;){var b=this.symbols.pop();b.redraw();a.push(b)}this.symbols=a};FourWins.prototype.redrawGrid=function(){for(var a=0;a<this.spread.height;a++)for(var b=0;b<this.spread.width;b++)this.drawTile(b,a)};
			FourWins.prototype.drawTile=function(a,b){this.ctx.lineWidth=1;var c=!1,d=!1;a==this.selected.x&&(c=!0);a==this.selected.x&&b==this.lowestY(a)&&(d=!0);a*=this.tileDim.width;b*=this.tileDim.height;this.enabled?d?(this.ctx.strokeStyle=this.color.gridStrokeReally,this.ctx.fillStyle=this.color.gridFillReally):c?(this.ctx.strokeStyle=this.color.gridStrokeSelected,this.ctx.fillStyle=this.color.gridFillSelected):(this.ctx.strokeStyle=this.color.gridStrokeNormal,this.ctx.fillStyle=this.color.gridFillNormal):
			(this.ctx.strokeStyle=this.color.gridStrokeDisabled,this.ctx.fillStyle=this.color.gridFillDisabled);this.ctx.beginPath();this.ctx.rect(a,b,this.tileDim.width,this.tileDim.height);this.ctx.fill();this.ctx.stroke()};
			function Symbol(a,b,c,d,e){a.x*=c.width;a.y*=c.height;this.pos=a;this.realPos={x:a.x,y:-c.height};e&&(this.realPos.y=a.y);this.player=b;this.dim=c;this.ctx=d;1==b?(this.color="#4353FF",this.color2="#0015FF"):2==b?(this.color="#FF2525",this.color2="#B30000"):3==b?(this.color="#A424FF",this.color2="#6200A9"):4==b&&(this.color="#0BF254",this.color2="#00892B")}Symbol.prototype.redraw=function(){this.realPos.y<this.pos.y&&(this.realPos.y+=20);this.drawCircleSymbol()};
			Symbol.prototype.drawBlockSymbol=function(){this.ctx.lineWidth=2;this.ctx.fillStyle=this.color;this.ctx.strokeStyle=this.color2;this.ctx.beginPath();this.ctx.rect(this.realPos.x+2,this.realPos.y+2,this.dim.width-4,this.dim.height-4);this.ctx.fill();this.ctx.stroke()};
			Symbol.prototype.drawCircleSymbol=function(){this.ctx.lineWidth=2;this.ctx.fillStyle=this.color;this.ctx.strokeStyle=this.color2;this.ctx.beginPath();this.ctx.arc(this.realPos.x+this.dim.width/2,this.realPos.y+this.dim.height/2,this.dim.width/2-4,0,2*Math.PI);this.ctx.fill();this.ctx.stroke()};
			Symbol.prototype.drawCrossSymbol=function(){this.ctx.strokeStyle=this.color;this.ctx.lineWidth=5;this.ctx.beginPath();this.ctx.moveTo(this.realPos.x+2,this.realPos.y+2);this.ctx.lineTo(this.realPos.x+this.dim.width-2,this.realPos.y+this.dim.height-2);this.ctx.stroke();this.ctx.beginPath();this.ctx.moveTo(this.realPos.x+2,this.realPos.y-2+this.dim.height);this.ctx.lineTo(this.realPos.x+this.dim.width-2,this.realPos.y+2);this.ctx.stroke()};
		</script>
		<script type="text/javascript" src="jquery.js"></script>
		<link rel="stylesheet" href="style.css" type="text/css" />
		<style type="text/css">
			div.content{width:800px;min-height:200px;padding:10px}
			a{color:#FFF}
			label{width:100px;display:block;float:left}
			div.content,div.footer,div.games,div.navi,div.bottom{box-shadow:0 2px 5px 0 #000;border-radius:15px 15px 15px 15px;background-color:rgba(50,50,50,0.5);border:1px solid #555;float:left;display:block;color:#FFF;font-family:Arial}
			div.bottom{width:1024px;height:20px;margin-top:10px;margin-bottom:10px;text-align:center;color:#FFF;padding:2px}
			div.navi{width:1024px;margin-bottom:10px;padding-top:2px}
			div.navi div.credits{float:right}
			body{background:url(sky.jpg) no-repeat center center fixed;background-size:cover;width:100%;margin:0;padding:0}
			div.wrapper{width:1024px;margin:auto}
			div.header{float:left;display:block;width:1024px;height:100px;background-image:url(header.png);margin-bottom:10px}
			div.footer{margin-top:10px;box-shadow:0 2px 5px 0 #000;width:1014px;height:14px;font-size:12px;color:#FFF;text-align:center;padding:5px}
			div.games{width:180px;margin-right:10px;padding:5px}
			div.games ul,div.navi ul{margin-left:0;padding:0}
			div.games ul li,div.navi ul li{list-style-type:none;margin-bottom:3px;background-color:rgba(50,50,50,0.5);border-radius:5px 5px 5px 5px}
			div.navi ul li a{text-decoration:none;color:#FFF}
			div.games ul li:hover,div.navi ul li:hover{background-color:rgba(255,255,255,0.5)}
			div.games ul li a{display:block;color:#FFF;width:100%;margin-bottom:4px;text-decoration:none;padding:2px}
			div.navi ul{padding-top:0;margin:0 5px}
			div.navi ul li{display:block;float:left;width:auto;padding-left:3px;padding-right:3px;background-color:transparent;margin-left:5px;margin-right:5px}
			div.games div.box{margin-bottom:5px;border-radius:15px 15px 15px 15px;background-color:rgba(255,255,255,0.3);line-height:1em;padding:8px}
			div.games div.box h1{margin-top:4px;font-size:14pt;margin-bottom:8px}
			div.dark{background-color:rgba(50,50,50,0.5);width:100%;height:100%;position:fixed;top:0;left:0}
			div.msg{width:400px;border-radius:15px 15px 15px 15px;background-color:rgba(255,255,255,0.7);margin:100px auto auto;padding:10px}
			div.wait{width:200px;border-radius:15px 15px 15px 15px;background-color:rgba(255,255,255,0.7);margin:100px auto auto;padding:10px}
			table tr td:first-child{border-left:1px solid #BBB}
			table tr:last-child td{border-bottom:1px solid #BBB}
			table tr.head td,table tr.head td:first-child{background-color:#BBB;border:none}
			table tr.head{border:none}
			table tr{background-color:#FFF}
			table{border-spacing:0;color:#000}
			table tr td{border-right:1px solid #BBB;padding:2px 10px}
			div.player{float:right;font-size:12pt}
			span.player1{font-weight:700;color:#4353FF;text-shadow:-1px 0 #0015FF, 0 1px #0015FF, 1px 0 #0015FF, 0 -1px #0015FF}
			span.player2{font-weight:700;color:#FF2525;text-shadow:-1px 0 #B30000, 0 1px #FF2525, 1px 0 #FF2525, 0 -1px #FF2525}
		</style>
	</head>
	<body onload="javascript: new Game();">
		<noscript>
		<div id="removeMe">
			<h1>Connect 4</h1>
			<p>Connect 4 Multiplayer in Javascript using websockets.</p>
			<p>This bage needs javascriptsupport in order to run properly.</p>
			<p>Please enable javascript in your browser.</p>
		</div>
		</noscript>
	</body>
</html>